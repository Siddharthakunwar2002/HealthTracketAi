{% extends "base.html" %}

{% block title %}Doctor Menu - Healthcare AI System{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <h1 class="mb-4">
                <i class="fas fa-user-md me-2"></i>Doctor Menu
            </h1>
            <p class="text-muted">Welcome back, Dr. {{ current_user.get_full_name() }}! Choose an option below to get started.</p>
        </div>
    </div>

    <!-- Main Menu Cards -->
    <div class="row">
        <!-- Dashboard -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_dashboard') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-primary text-white mb-3">
                        <i class="fas fa-tachometer-alt fa-2x"></i>
                    </div>
                    <h5 class="card-title">Dashboard</h5>
                    <p class="card-text text-muted">View your dashboard with appointments, patients, and quick stats.</p>
                    <div class="mt-3">
                        <span class="badge bg-primary">Main</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Appointments -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_appointments') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-success text-white mb-3">
                        <i class="fas fa-calendar-check fa-2x"></i>
                    </div>
                    <h5 class="card-title">Appointments</h5>
                    <p class="card-text text-muted">Manage your appointments, view schedules, and update statuses.</p>
                    <div class="mt-3">
                        <span class="badge bg-success">Core</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Patients -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_patients') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-info text-white mb-3">
                        <i class="fas fa-user-injured fa-2x"></i>
                    </div>
                    <h5 class="card-title">My Patients</h5>
                    <p class="card-text text-muted">View patient records, medical history, and manage care.</p>
                    <div class="mt-3">
                        <span class="badge bg-info">Patients</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Prescriptions -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_prescriptions') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-warning text-white mb-3">
                        <i class="fas fa-pills fa-2x"></i>
                    </div>
                    <h5 class="card-title">Prescriptions</h5>
                    <p class="card-text text-muted">Create and manage medication prescriptions for patients.</p>
                    <div class="mt-3">
                        <span class="badge bg-warning">Medical</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Secondary Menu Cards -->
    <div class="row">
        <!-- Messages -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_messages') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-secondary text-white mb-3">
                        <i class="fas fa-envelope fa-2x"></i>
                    </div>
                    <h5 class="card-title">Messages</h5>
                    <p class="card-text text-muted">Communicate with patients and other healthcare staff.</p>
                    <div class="mt-3">
                        <span class="badge bg-secondary">Communication</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reports -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_reports') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-danger text-white mb-3">
                        <i class="fas fa-file-medical fa-2x"></i>
                    </div>
                    <h5 class="card-title">Reports</h5>
                    <p class="card-text text-muted">Create and view medical reports and documentation.</p>
                    <div class="mt-3">
                        <span class="badge bg-danger">Documentation</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Schedule -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_schedule') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-dark text-white mb-3">
                        <i class="fas fa-clock fa-2x"></i>
                    </div>
                    <h5 class="card-title">Schedule</h5>
                    <p class="card-text text-muted">View and manage your work schedule and availability.</p>
                    <div class="mt-3">
                        <span class="badge bg-dark">Planning</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Assistant -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('chat') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-purple text-white mb-3">
                        <i class="fas fa-robot fa-2x"></i>
                    </div>
                    <h5 class="card-title">AI Assistant</h5>
                    <p class="card-text text-muted">Get AI-powered assistance for medical queries and support.</p>
                    <div class="mt-3">
                        <span class="badge" style="background-color: #6f42c1;">AI</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Features -->
    <div class="row">
        <!-- Profile -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_profile') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-light text-dark mb-3">
                        <i class="fas fa-user-edit fa-2x"></i>
                    </div>
                    <h5 class="card-title">Profile</h5>
                    <p class="card-text text-muted">Update your profile information and preferences.</p>
                    <div class="mt-3">
                        <span class="badge bg-light text-dark">Settings</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_notifications') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-orange text-white mb-3">
                        <i class="fas fa-bell fa-2x"></i>
                    </div>
                    <h5 class="card-title">Notifications</h5>
                    <p class="card-text text-muted">View system notifications and updates.</p>
                    <div class="mt-3">
                        <span class="badge" style="background-color: #fd7e14;">Alerts</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chats -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_chats') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-teal text-white mb-3">
                        <i class="fas fa-comments fa-2x"></i>
                    </div>
                    <h5 class="card-title">Chats</h5>
                    <p class="card-text text-muted">Real-time chat with patients and colleagues.</p>
                    <div class="mt-3">
                        <span class="badge" style="background-color: #20c997;">Chat</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Predictions -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card shadow h-100 menu-card" onclick="window.location.href='{{ url_for('dashboard.doctor_predictions') }}'">
                <div class="card-body text-center">
                    <div class="menu-icon bg-indigo text-white mb-3">
                        <i class="fas fa-chart-line fa-2x"></i>
                    </div>
                    <h5 class="card-title">Predictions</h5>
                    <p class="card-text text-muted">AI-powered health predictions and analytics.</p>
                    <div class="mt-3">
                        <span class="badge" style="background-color: #6610f2;">Analytics</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Stats Footer -->
    <div class="row mt-4">
        <div class="col-12">
            <div class="card shadow">
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-md-3">
                            <h4 class="text-primary">{{ total_appointments_today or 0 }}</h4>
                            <p class="text-muted mb-0">Today's Appointments</p>
                        </div>
                        <div class="col-md-3">
                            <h4 class="text-success">{{ upcoming_appointments.count() if upcoming_appointments else 0 }}</h4>
                            <p class="text-muted mb-0">Upcoming</p>
                        </div>
                        <div class="col-md-3">
                            <h4 class="text-info">{{ recent_patients.count() if recent_patients else 0 }}</h4>
                            <p class="text-muted mb-0">Total Patients</p>
                        </div>
                        <div class="col-md-3">
                            <h4 class="text-warning">{{ unread_messages or 0 }}</h4>
                            <p class="text-muted mb-0">Unread Messages</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.menu-card {
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    border-radius: 15px;
}

.menu-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15) !important;
}

.menu-icon {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
}

.bg-purple {
    background-color: #6f42c1 !important;
}

.bg-orange {
    background-color: #fd7e14 !important;
}

.bg-teal {
    background-color: #20c997 !important;
}

.bg-indigo {
    background-color: #6610f2 !important;
}

.card-title {
    font-weight: 600;
    margin-bottom: 10px;
}

.card-text {
    font-size: 0.9rem;
    line-height: 1.4;
}
</style>
{% endblock %}

{% block extra_js %}
<script>
// Add click animation
document.querySelectorAll('.menu-card').forEach(card => {
    card.addEventListener('click', function() {
        this.style.transform = 'scale(0.95)';
        setTimeout(() => {
            this.style.transform = '';
        }, 150);
    });
});
</script>
{% endblock %}
